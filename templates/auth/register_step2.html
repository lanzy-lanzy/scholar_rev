{% extends 'base/base.html' %}

{% block title %}Register - Step 2{% endblock %}

{% block extra_css %}
<style>
  :root { --primary-dark: var(--brand-1); --primary-medium: var(--brand-2); --accent-warm: var(--brand-4); --neutral-light: var(--brand-3); }
  .gradient-bg { background: linear-gradient(135deg, var(--primary-dark) 0%, var(--primary-medium) 100%); }
  .glass-card { background: rgba(255,255,255,0.95); backdrop-filter: blur(20px); border: 1px solid rgba(255,255,255,0.2); box-shadow: 0 25px 45px rgba(0,0,0,0.1); }
  .custom-input, .form-input, .form-select { transition: all .25s ease; border: 2px solid #e5e7eb; background: rgba(255,255,255,0.9); padding: .75rem 1rem; border-radius: .5rem; width:100%; }
  .custom-input:focus { border-color: var(--primary-dark); box-shadow: 0 0 0 3px rgba(44,57,48,0.08); background:white; outline:none; }
  .btn-custom { background: linear-gradient(45deg,var(--primary-dark),var(--primary-medium)); color:white; border:none; padding:.75rem 1.25rem; border-radius: .75rem; font-weight:700; }
  .btn-custom.bg-gray-300 { background: #e5e7eb; color:#1f2937; }
  .progress { height:8px; background:#eef2ff; border-radius:999px; }
  .progress > .bar { height:100%; background:linear-gradient(90deg,#34d399,#60a5fa); border-radius:999px; transition: width .3s ease; }
</style>
{% endblock %}

{% block content %}
<div class="min-h-screen gradient-bg relative overflow-hidden">
  <div class="absolute inset-0 opacity-10">
    <div class="absolute top-20 left-10 w-32 h-32 bg-white rounded-full floating"></div>
    <div class="absolute top-40 right-20 w-20 h-20 bg-neutral-light rounded-full floating" style="animation-delay:2s"></div>
  </div>

  <div class="flex items-center justify-center min-h-screen py-12 px-4 sm:px-6 lg:px-8 relative z-10">
    <div class="max-w-md w-full space-y-8">
      <div class="text-center">
        <div class="mx-auto h-16 w-16 bg-white rounded-full flex items-center justify-center mb-6 shadow-lg">
          <svg class="h-8 w-8" style="color: var(--primary-dark);" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.121 17.804A13.937 13.937 0 0112 15c2.485 0 4.82.58 6.879 1.604M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
          </svg>
        </div>
        <h2 class="text-3xl font-extrabold hero-text-white mb-2">Personal details</h2>
        <p class="text-sm hero-text-white">Step 2 of 3 â€” tell us about yourself</p>
      </div>

      <div class="glass-card rounded-2xl p-6">
        <div class="mb-4">
          <div class="flex items-center justify-between mb-2">
            <div class="text-sm font-medium text-gray-700">Progress</div>
            <div class="text-sm text-gray-500">Step 2 of 3</div>
          </div>
          <div class="progress"><div class="bar" style="width:66%"></div></div>
        </div>

        <form method="post" novalidate>
          {% csrf_token %}
          <input type="hidden" name="step" value="2">

          <div class="space-y-4">
            <div>
              <label class="block text-sm font-medium text-gray-700">First name</label>
              <input name="first_name" value="{{ form.first_name.value|default:'' }}" class="custom-input" placeholder="First name">
              {% if form.first_name.errors %}{% for e in form.first_name.errors %}<p class="text-red-600 text-sm">{{ e }}</p>{% endfor %}{% endif %}
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700">Last name</label>
              <input name="last_name" value="{{ form.last_name.value|default:'' }}" class="custom-input" placeholder="Last name">
              {% if form.last_name.errors %}{% for e in form.last_name.errors %}<p class="text-red-600 text-sm">{{ e }}</p>{% endfor %}{% endif %}
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700">Department (optional)</label>
              <input name="department" value="{{ form.department.value|default:'' }}" class="custom-input" placeholder="Department">
              {% if form.department.errors %}{% for e in form.department.errors %}<p class="text-red-600 text-sm">{{ e }}</p>{% endfor %}{% endif %}
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700">Phone number (optional)</label>
              <input name="phone_number" value="{{ form.phone_number.value|default:'' }}" class="custom-input" placeholder="09xxxxxxxxx">
              {% if form.phone_number.errors %}{% for e in form.phone_number.errors %}<p class="text-red-600 text-sm">{{ e }}</p>{% endfor %}{% endif %}
            </div>
          </div>

          <div class="mt-6 flex items-center justify-between">
            <a href="?step=1" class="btn-custom bg-gray-300 text-gray-800">Previous</a>
            <button type="submit" class="btn-custom">Next</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
{% endblock %}
